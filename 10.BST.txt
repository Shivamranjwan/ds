class Node:
    def __init__(self, city, pop):
        self.city = city
        self.pop = pop
        self.left = self.right = None

def insert(root, city, pop):
    if not root: return Node(city, pop)
    if city < root.city: root.left = insert(root.left, city, pop)
    elif city > root.city: root.right = insert(root.right, city, pop)
    return root

def search(root, city):
    c = 0
    while root:
        c += 1
        if city == root.city: return root, c
        root = root.left if city < root.city else root.right
    return None, c

def update(root, city, pop):
    node, _ = search(root, city)
    if node: node.pop = pop; print("Updated.")
    else: print("City not found.")

def delete(root, city):
    if not root: return root
    if city < root.city: root.left = delete(root.left, city)
    elif city > root.city: root.right = delete(root.right, city)
    else:
        if not root.left: return root.right
        if not root.right: return root.left
        t = root.right
        while t.left: t = t.left
        root.city, root.pop = t.city, t.pop
        root.right = delete(root.right, t.city)
    return root

def inorder(r):
    if r:
        inorder(r.left); print(r.city, "-", r.pop); inorder(r.right)

def desc(r):
    if r:
        desc(r.right); print(r.city, "-", r.pop); desc(r.left)

root = None
while True:
    print("\n1.Add 2.Delete 3.Update 4.Asc 5.Desc 6.Search 7.Exit")
    ch = int(input("Choice: "))
    if ch == 1:
        root = insert(root, input("City: "), int(input("Pop: ")))
    elif ch == 2:
        root = delete(root, input("City: "))
    elif ch == 3:
        update(root, input("City: "), int(input("New Pop: ")))
    elif ch == 4:
        inorder(root)
    elif ch == 5:
        desc(root)
    elif ch == 6:
        city = input("City: ")
        n, c = search(root, city)
        print(("Found: " + str(n.pop)) if n else "Not found.")
        print("Comparisons:", c)
    else:
        break
